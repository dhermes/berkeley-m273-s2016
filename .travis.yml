language: python
sudo: false

install:
  - pip install --upgrade pip
  - pip install --upgrade tox
  - .tox/py27/bin/pip install --upgrade --requirement=requirements.txt
  - .tox/py34/bin/pip install --upgrade --requirement=requirements.txt
  - .tox/lint/bin/pip install --upgrade --requirement=requirements.txt
  - .tox/docs/bin/pip install --upgrade --requirement=requirements.txt
  - .tox/coveralls/bin/pip install --upgrade --requirement=requirements.txt

script:
  - tox -e py27
  - tox -e py34
  - tox -e lint
  - tox -e docs

after_success:
  - tox -e coveralls

cache:
  directories:
    - ${HOME}/.cache/pip
    - ${HOME}/virtualenv/python2.7.9/lib/python2.7/site-packages
    - ${HOME}/virtualenv/python2.7.9/bin
    - ${TRAVIS_BUILD_DIR}/.tox
